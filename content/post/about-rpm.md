+++
Categories = []
Tags = []
title = "RPMコマンドのオプション"
date = "2013-09-21T21:59:00+09:00"
aliases = ["/blog/about-rpm/"]

+++

最近LPIC-1を取ろうと勉強中です．
その中でRedHat系のパッケージ操作コマンドであるrpmコマンドのオプションについて出てきたので備忘録のためにまとめておくことにします．

<!--more-->

rpmのオプションには大きく分けると「インストール/アップグレード」「アンインストール」「照会」の3つに分けられます．

## インストール/アップグレード
インストール/アップグレードモードでは以下のいずれかのオプションを使用する

オプション|説明
:---------|:---
-i (--install) <パッケージファイル名>|パッケージをインストールする
-U (--upgrade) <パッケージファイル名>|パッケージを更新する．インストールされていなければ新規にインストールする
-F (--freshen) <パッケージファイル名>|パッケージを更新する．インストールされていなければなにもしない

これらのオプションを使用したときは以下のオプションも併用できる

オプション|説明
:---------|:---
-v|詳細な情報を表示する
-h (--hash)|進行状況を「#」で表示する
--nodeps|依存関係を無視してインストールする
--test|実際にはインストールせずにテストを実施する

パッケージをファイルからインストールするときは以下のようにオプションを組み合わせているのをよく見る気がします．

        # rpm -ivh <package>
        
## アンインストール
こちらはあまり種類がないようで，

オプション|説明
:---------|:---
-e (--erace) <パッケージ名>|パッケージをアンインストールする

ちなみに-eオプションを渡したときも--nodepsオプションを使用できます．
効果は「依存関係を無視してアンインストールする」です．

## 照会
オプション|説明
:---------|:---
-q <パッケージ名>|指定したパッケージがインストールされているか照会する

このモードでは以下のオプションが併用できる

オプション|説明
:---------|:---
-a (-all)|インストール済みのすべてのパッケージを表示する
-f <ファイル名>|指定したファイルを含むパッケージ名を表示する
-p <パッケージファイル名>|対象としてパッケージファイル名を指定する
-i (--info)|インストール済みのパッケージ情報を表示する
-l (--list)|指定したパッケージに含まれるファイルを表示する
-R (--requires)|指定したパッケージが依存しているファイル等を表示する
--changelog|変更履歴を表示する

あるパッケージがインストールされているかどうかを調べたかったら以下のように実行すればよいわけですね

        $ rpm -qa | grep <package>

deb系で言う"dpkg -l"みたいな感じ．

出典: [Linux教科書 LPIC レベル1 第5版 [翔泳社]](http://www.amazon.co.jp/dp/4798127922)

## なんでこんなものをまとめているのかと言うと
私はDebianユーザなのでRedHatやCentOSの環境が手元にありません．本で読んでいるばかりだとなかなか頭に残らないので
手を動かして覚えようということでまとめてみました．

やっぱり手元にESXi環境とかあったらこういうとき必要な環境をささっと準備できて便利なんだろうなーと思いつつ
いざそれ用に新しいマシンを買うとなると10万はいっちゃいそうでなかなか踏み出せずにいます…
